\documentclass[12pt,letterpaper,oneside]{memoir} 
% for debugging, add 'draft' (without quotes) to the [] document class list.
% If draft is in the document class list, pix are just suggested
% by an outline, the pic does not appear as a picture.
%
\newcommand{\docdate}{May 18, 2013 \hspace{1cm}(***\textbf{DRAFT}***)}
%
\usepackage[T1]{fontenc}
\usepackage{palatino}
\usepackage{cmtt}
\renewcommand{\ttdefault}{cmtt}	% Use Computer Modern Typewriter instead of Courier
%\usepackage{ascii}
%\renewcommand{\ttdefault}{ascii}
%\renewcommand{\ttfamily}{\asciifamily}
%\usepackage{microtype}
%\DisableLigatures[f]{encoding=T1}
%\renewcommand{\familydefault}{phv}  % font family helvetica
%

\usepackage{url} 		   % For color in letters. Links instead?
\usepackage[usenames]{color} % For color in letters. Links instead?
\usepackage{ellipsis} 	   % Provides ... as \dots
%\usepackage{color}
\usepackage{listings}
\usepackage{alltt}
\lstset{ %
language={},               % choose the language of the code
basicstyle=\footnotesize\ttfamily,  % the size of the fonts that are used for the code
numbers=none,              % where to put the line-numbers
numberstyle=\footnotesize, % the size of the fonts that are used for the line-numbers
numberfirstline=true,
firstnumber=1,             % first line number in each listing
stepnumber=5,              % the step between two line-numbers. If it is 1 each line will be numbered
numbersep=10pt,            % how far the line-numbers are from the code
backgroundcolor=\color{white}, % choose the background color. You must add \usepackage{color}
showspaces=false,          % show spaces adding particular underscores
showstringspaces=false,    % underline spaces within strings
showtabs=false,            % show tabs within strings adding particular underscores
frame=single,              % adds a frame around the code
tabsize=2,                 % sets default tabsize to 2 spaces
captionpos=b,              % sets the caption-position to bottom
breaklines=true,           % sets automatic line breaking
breakatwhitespace=false,   % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)}     % if you want to add a comment within your code
}

\usepackage{amsmath}       % Provides \nobreakdash
\usepackage{graphicx}      % For pictures
\usepackage{longtable}     % For multipage tables
\usepackage{varioref}      % defines \vref
% \textregistered is the trademark symbol
\usepackage[headheight=16pt,paper=letterpaper]{geometry}
\setlength{\headheight}{15pt}  % avoids warning from latex
\usepackage{needspace}     % For assuring space remaining on a page
\usepackage{ifthen}        % For conditional processing
\usepackage{changepage}    % For odd/even page checks
\usepackage{tikz}		   % graphics (Appendix B)
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{arrows}
\usepackage{makeidx}       % For making an index
% hyperref must be the last package listed.
% The hyperref settings helps hypertext get right links in the 
% pdf of the index.
\usepackage[plainpages=false,pdfpagelabels,pagebackref,allcolors=blue]{hyperref} % Lets us generate colored active links inside a pdf.
\makeindex  % This and the makeidx package allow \index to create index entries.

\newcommand{\dwf}{DWARF Debugging Information Format}

\newenvironment{myindentpara}[1]%
  {\begin{list}{}%
    {\setlength{\leftmargin}{#1}}%
    \item[]%
  }
  {\end{list}}

% broken somehow.
%\newcommand{\myindent1}[1]{\begin{myindentpara}{1cm}#1\end{myindentpara}}

\hypersetup{colorlinks=true,
  %bookmarks=true,
  pdfauthor={\dwf\ Committee},
  pdftitle={\dwf\ Version 4.1}
}

% An environment to create a listing-like (boxed) presentation for DWARF examples
% Use like \begin{lstlisting}...\end{lstlisting}. Does not do line numbers (boo)
% but does full LaTex processing within its scope (unlike \verb).
\newsavebox{\savedwf}
\newenvironment{dwflisting}{\begin{lrbox}{\savedwf}
  \begin{minipage}{\textwidth}\footnotesize}
  {\end{minipage}\end{lrbox}\fbox{\usebox{\savedwf}}}
% A helper to annotate the parts of a multipage figure
\newcommand{\figurepart}[2]{\raggedleft{\textit{\tiny{part #1 of #2}}}}

% Generate a page ref.
% use like   \refersec{chap:registerbasedaddressing}
%\newcommand{\refersec}[1]{\ref{#1} on page \pageref{#1}}
\newcommand{\refersec}[1]{\vref{#1}}  % beware possible rerun loop
\newcommand{\referfol}[1]{\ref{#1} following}

% Generate a live link in the document
% use like \livelink{chap:DWOPdup}{DW\_OP\_dup}
\newcommand{\livelink}[2]{\hyperlink{#1}{#2}\index{#2}}
% use when the index is different from the text and target.
\newcommand{\livelinki}[3]{\hyperlink{#1}{#2}\index{#3}}
% livetarg is the declaration this is the target of livelinks.
% FIXME: we might want livetarg and livetargi  #2 to be \textbf{#2}
\newcommand{\livetarg}[2]{\hypertarget{#1}{#2}\index{#2}}
% When we want the index entry to look different from the name.
\newcommand{\livetargi}[3]{\hypertarget{#1}{#2}\index{#3}}

\newcommand{\thirtytwobitdwarfformat}[1][]{\livelink{datarep:xxbitdwffmt}{32-bit DWARF format}}
\newcommand{\sixtyfourbitdwarfformat}[1][]{\livelink{datarep:xxbitdwffmt}{64-bit DWARF format}}

\newcommand{\dash}{\nobreakdash-\hspace{0pt}}  % So we handle dashes ok.

% The following two let us mark a word as 'do not link' or
% 'do not index' to indicate the word is used generically
% and has been considered so do not index or link it.
% There is no significant difference in the two commands, though
% \nolink would be more oriented to words such as flag or address
% that might be linked (and indexed) in some circumstances.
\newcommand{\nolink}[1]{#1}
\newcommand{\noindex}[1]{#1}

% For index entries. The tt-variant of each pair is designed to
% allow a word to appear in tt font in the main test and the index
% but to collate in the index in its non-tt order. (LaTex normally
% sorts all tt words before all non-tt words.)
\newcommand{\addtoindex}[1]{#1\index{#1}}
\newcommand{\addttindex}[1]{\texttt{#1}\index{#1@\texttt{#1}}}
\newcommand{\addtoindexi}[2]{#1\index{#2}}
\newcommand{\addttindexi}[2]{\texttt{#1}\index{#2@\texttt{#2}}}
\newcommand{\addtoindexx}[1]{\index{#1}}
\newcommand{\addttindexx}[1]{\index{#1@\texttt{#1}}}

% Quote commands that avoid need for inline UTF-8 in these sources
\newcommand{\doublequote}[1]{\textquotedblleft #1\textquotedblright}
\newcommand{\singlequote}[1]{\textquoteleft #1\textquoteright}

% Better naming for the lowest level section header
\newcommand{\subsubsubsection}[1]{\paragraph{#1.}}

% Issue \clearpage if less than n lines remain on page
\newcommand{\needlines}[1]{\needspace{#1\baselineskip}}

% Helper for item lists with bold subject markers
\newcommand{\itembf}[1]{\item \textbf{#1}}
\newcommand{\itembfnl}[1]{\itembf{#1} \\}

% And description lists with normal (not bold) text
\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\textnormal{#1}}
\newcommand{\descriptionlabelnl}[1]{\item[#1] \mbox{}\\}

\newcommand{\emptypage}{
    \clearpage
    \vspace*{4in}
    \begin{center} \textit{(empty page)} \end{center}
    }

% A simple rule used in simple tables; default length is 2 inches
\newcommand{\simplerule}[1][2in]{\rule[4pt]{#1}{0.5pt}}

% A simple one column table of names; default width is 2 inches
\newcommand{\simplenametablerule}{\simplerule[2in]}
\newenvironment{simplenametable}[3][2in]
    {   \begin{table}[here] \caption{#2} \label{#3}
        \begin{center}
        \renewcommand{\simplenametablerule}{\simplerule[#1]}
        \simplenametablerule \\
        \begin{tabular*}{#1}{l}
        }
    {   \end{tabular*}
        \vspace{4pt} \\
        \simplenametablerule \\
        \end{center}
        \end{table}
        }

% Anti-ligature commands added because \/ and {} don't work for unknown reasons
% nor does the microtext package DisableLigatures command...???
%
\newcommand{\xiiif}				{0x\hspace{1pt}3\hspace{2pt}f}
\newcommand{\xiiifff}			{0x\hspace{1pt}3\hspace{2pt}f\hspace{2pt}f\hspace{2pt}f}
\newcommand{\xff}				{0x\hspace{1pt}f\hspace{2pt}f}
\newcommand{\xffff}				{0x\hspace{1pt}f\hspace{2pt}f\hspace{2pt}f\hspace{2pt}f}
%
% These are intended for use in running text...
%
\newcommand{\xffffffff}   		{\texttt{0xffffffff}}			% use with following punctutation
\newcommand{\wffffffff}   		{\texttt{0xffffffff}\ }			% use as separate "word"
\newcommand{\xfffffffzero}		{\texttt{0xfffffff0}}			% use with following punctutation
\newcommand{\wfffffffzero}		{\texttt{0xfffffff0}\ }
\newcommand{\xffffffffffffffff}	{\texttt{0xffffffffffffffff}}	% use with following punctutation
\newcommand{\wffffffffffffffff}	{\texttt{0xffffffffffffffff}\ }

% Define commands for all of the DWARF names (DW\_*, .debug_*, a few others)
\include{dwarfnamecmds}

%--- Begin the document pages
%
\begin{document}
\frontmatter
\thispagestyle{empty}

\nonzeroparskip
\setlength{\parindent}{0pt} 
\setlength{\headheight}{6cm}
\setlength{\uppermargin}{6cm}
\setlength{\topsep}{0pt}
\tightlists					% less spacing before/after lists

\begin{centering}
\LARGE
\textbf{\dwf}

\textbf{Version 4.1}

\centering
\vspace{1cm}
\includegraphics[keepaspectratio=true,scale=1.0]{dwarf-logo}

%\centering
\vspace{2cm}
\href{http://www.dwarfstd.org}{\dwf\ Committee}

\vspace{1cm} 
\url{http://www.dwarfstd.org}

\large
\vspace{2cm}
\textbf{\docdate}

\end{centering}

%\clearpage
%\openany

\textmd
\normalsize
\setlength{\headheight}{15pt}  

\pagestyle{plain}
%\makeevenhead{plain}{}{}{}
%\makeoddhead{plain}{}{}{}
%\makeevenfoot{plain}{}{}{}
%\makeoddfoot{plain}{}{}{}

\nonzeroparskip
\setlength{\parindent}{0pt} 
\settrims{0.5in}{0.5in}
\settypeblocksize{8.2in}{6.0in}
%\setlrmarginsandblock{0.6in}{0.6in}{*}
%\setheadfoot{15pt}{15pt}
%\setheaderspaces {*}{2\onelineskip}{*}
\nouppercaseheads
\makeevenhead{plain}{}{\rightmark}{}
\makeoddhead{plain}{}{\rightmark}{}
\makeevenfoot{plain}{\docdate}{}{Page \thepage}
\makeoddfoot{plain}{\docdate}{}{Page \thepage}

%\openany

\nonzeroparskip
\setlength{\parindent}{0pt} 

\flushleft
\include{copyright}
\include{foreword}
\include{foreword4.1}
\emptypage

\newpage
\tableofcontents

\cleardoublepage
\listoffigures

\cleardoublepage
\listoftables

\flushleft
\raggedbottom
\chapterstyle{default}

\setlength{\parindent}{0pt} 

\makepagestyle{fragFirstChPage}
    \makeevenhead{fragFirstChPage}{}{}{}
    \makeoddhead{fragFirstChPage}{}{}{}
    \makeoddfoot{fragFirstChPage}{\docdate}{}{Page \thepage}
    \makeevenfoot{fragFirstChPage}{\docdate}{}{Page \thepage}
\nouppercaseheads
\aliaspagestyle{chapter}{fragFirstChPage}

% ----- Start the main part of the document -----
\mainmatter
% Define the levels of sectionality that are numbered.
\setcounter{secnumdepth}{5}
\include{introduction}
\include{generaldescription}            \emptypage
\include{programscope}                  \emptypage
\include{dataobject}                    \emptypage
\include{typeentries}                   \emptypage
\include{otherdebugginginformation} 	\emptypage
\include{datarepresentation}            \emptypage

%  The \appendix toggles us into appendix chapters
\appendix

\include{attributesbytag}				%\emptypage
\include{debugsectionrelationships}     \emptypage
\include{encodingdecoding}              \emptypage
\include{examples}                      %\emptypage
\include{compression}                   %\emptypage
\include{sectionversionnumbers}
\include{gnulicense}

\printindex

\end{document}
