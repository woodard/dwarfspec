\chapter{Debug Section Relationships (Informative)}
\label{app:debugsectionrelationshipsinformative}
DWARF information is organized into multiple program sections, 
each of which holds a particular kind of information. In some 
cases, information in one section refers to information in one 
or more of the others. These relationships are illustrated by 
the diagram and associated notes on the following pages.

\begin{figure}[H]
\begin{tikzpicture}
    [sect/.style={rectangle, rounded corners=10pt, draw, fill=blue!10, inner sep=.2cm, minimum width=4.5cm},
	 link/.style={rectangle,                       draw,               inner sep=.2cm, minimum width=5.0cm}]

% The left column, first sections, then links, from top to bottom
%
\node(zsectara) at ( 0, 10.) [sect] {\dotdebugaranges};
\node(zlinka)   at ( 0, 8.0) [link] {To compilation unit (a)};
\node(zsectinf) at ( 0, 5.0) [sect] {\begin{tabular}{c} \dotdebuginfo \\ \dotdebugtypes \end{tabular}};
\node(zlinkb)   at ( 0, 2.0) [link] {To compilation unit (b)};
\node(zsectpub) at ( 0, 0.0) [sect] {\begin{tabular}{c} \dotdebugpubnames \\ \dotdebugpubtypes \end{tabular}};

\draw[thick,-to reversed]		(zlinka) -- (zsectara);
\draw[thick,angle 90-] 			(zsectinf) -- (zlinka);
\draw[thick,-angle 90] 			(zlinkb) -- (zsectinf);
\draw[thick,to reversed-]		(zsectpub) -- (zlinkb);

% The middle column, similarly
%
\node(zsectfra) at (6, 10.) [sect] {\dotdebugframe};
\node(zlinkc)   at (6,  8.) [link] {To abbreviations (c)};
\node(zlinkd)   at (6,  7.) [link] {\DWFORMstrp{} (d)};
\node(zlinke)   at (6,  6.) [link] {\DWOPcallref{} (e)};
\node(zlinkf)   at (6,  5.) [link] {\DWATlocation{}, etc. (f)};
\node(zlinkg)   at (6,  4.) [link] {\DWATranges{} (g)};
\node(zlinkh)   at (6,  3.) [link] {\DWATmacroinfo{} (h)};
\node(zlinki)   at (6,  2.) [link] {\DWATstmtlist{} (i)};

% Links between left and center
%
\draw[thick,to reversed-]			(zsectinf) -- (zlinkc.west);
\draw[thick,to reversed-]			(zsectinf) -- (zlinkd.west);
\draw[thick,angle 90-]				(zsectinf) -- (zlinke.west);
\draw[thick,to reversed-]			(zsectinf) -- (zlinkf.west);
\draw[thick,to reversed-]			(zsectinf) -- (zlinkg.west);
\draw[thick,to reversed-]			(zsectinf) -- (zlinkh.west);
\draw[thick,to reversed-]			(zsectinf) -- (zlinki.west);

% The right column
%
\node(zsectabb)	at (12, 10) [sect] {\dotdebugabbrev};
\node(zsectstr)	at (12,  8) [sect] {\dotdebugstr};
\node(zsectloc)	at (12,  6) [sect] {\dotdebugloc};
\node(zsectran)	at (12,  4) [sect] {\dotdebugranges};
\node(zsectmac)	at (12,  2) [sect] {\dotdebugmacinfo};
\node(zsectlin)	at (12,  0) [sect] {\dotdebugline};

% Links between center and right
%
\draw[thick,-angle 90]		(zlinkc.east) -- (zsectabb.west);
\draw[thick,-angle 90]		(zlinkd.east) -- (zsectstr.west);
\draw[thick,-to reversed]	(zlinke.east) -- (zsectloc.west);
\draw[thick,-angle 90]		(zlinkf.east) -- (zsectloc.south west);
\draw[thick,-angle 90]		(zlinkg.east) -- (zsectran.west);
\draw[thick,-angle 90]		(zlinkh.east) -- (zsectmac.west);
\draw[thick,-angle 90]		(zlinki.east) -- (zsectlin.west);

\end{tikzpicture}
\vspace{5mm}
\caption{Debug section relationships}
\label{fig:debugsectionrelationships}
\end{figure}

\clearpage
\begin{center}
   \textbf{Notes}
\end{center}
\begin{enumerate}[(a)]  
\item  \addtoindex{.debug\_aranges}  \\
The debug\_info\_offset value in
the header is
the offset in the \addtoindex{.debug\_info} section of the
corresponding compilation unit header (not the compilation
unit entry).

%b
\item \addtoindex{.debug\_pubnames} and \addtoindex{.debug\_pubtypes} \\
The debug\_info\_offset value in the header is the offset in the
\addtoindex{.debug\_info} section of the 
corresponding compilation unit header (not
the compilation unit entry). Each pubname/pubtype has the offset (within
the corresponding compilation unit) of the applicable debugging
information entry.

%c
\item \addtoindex{.debug\_info} and \addtoindex{.debug\_types} \\
The debug\_abbrev\_offset value in the header is the offset in the
\addtoindex{.debug\_abbrev} 
section of the abbreviations for that compilation unit.

%d
\item  \addtoindex{.debug\_info} and \addtoindex{.debug\_types} \\
Attribute values of class string may have form 
\livelink{chap:DWFORMstrp}{DW\-\_FORM\-\_strp}, whose
value is the offset in the \addtoindex{.debug\_str}
section of the corresponding string.

%e
\item \addtoindex{.debug\_loc} \\
The operand of the \livelink{chap:DWOPcallref}{DW\-\_OP\-\_call\-\_ref} 
DWARF expression operator is the
offset of a debugging information entry in the 
\addtoindex{.debug\_info} section.

%f
\item \addtoindex{.debug\_info} \\
An attribute value of class \livelink{chap:loclistptr}{loclistptr} 
(specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) 
is an offset within the \addtoindex{.debug\_loc} 
section of a
\addtoindex{location list}.

%g
\item \addtoindex{.debug\_info} \\
An attribute value of class \livelink{chap:rangelistptr}{rangelistptr} 
(specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) 
is an offset within the \addtoindex{.debug\_ranges} section of
a range list.

%h
\item \addtoindex{.debug\_info} \\
An attribute value of class 
\livelink{chap:macptr}{macptr} (specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) is an 
offset within the 
\addtoindex{.debug\_macinfo} section
of the beginning of the macro information for the referencing unit.

%i
\item \addtoindex{.debug\_info} \\
An attribute value of class 
\livelink{chap:lineptr}{lineptr} (specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) 
is an offset in the 
\addtoindex{.debug\_line} section of the
beginning of the line number information for the referencing unit.
\end{enumerate}
