\chapter{Debug Section Relationships (Informative)}
\label{app:debugsectionrelationshipsinformative}
%
DWARF information is organized into multiple program sections, 
each of which holds a particular kind of information. In some 
cases, information in one section refers to information in one 
or more of the others. These relationships are illustrated by 
the diagram and associated notes on the following pages.

\begin{figure}[h]
% picture gets width and height of the picture drawn
% so latex knows how big it is (latex does not calculate
% the space you need to make it fit, you do).
\begin{picture}(320,300)
% Footnotesize keeps the text small-size so it fits
% in the boxes and ellipses
\footnotesize
% Thicklines makes the lines more visible.
\Thicklines
  \put(5,208) { \addtoindex{.debug\_aranges} }
  \put(40,210) { \ellipse{80}{30}}
  \put(180,208) { \addtoindex{.debug\_frame} }
  \put(210,210) { \ellipse{80}{30}}
  \put(347,208) { \addtoindex{.debug\_abbrev} }
  \put(380,210) { \ellipse{80}{30}}

  \drawline[1](40,195)(40,181)
  \put(-10,165){\framebox(110,15){To compilation unit (a)} }
  \drawline[1](40,165)(40,151)(37,158) 
  \put(352,168) { \addtoindex{.debug\_str} }
  \put(380,170) {\ellipse{80}{30}}

  \put(10,133) { \addtoindex{.debug\_info} }
  \put(10,123) { \addtoindex{.debug\_types} }
  \put(40,130) {\ellipse{80}{40}}


  \put(350,128) { \addtoindex{.debug\_loc} }
  \put(380,130) {\ellipse{80}{30}}

  \put(345,88) { \addtoindex{.debug\_ranges} }
  \put(380,90) {\ellipse{80}{30}}

  \drawline[1](75,141)(160,170)
  \put(160,165){\framebox(110,15){To abbreviations (c)} }
  \drawline[1](271,176)(345,205)(335,197)

  \put(76,138){\line(6, 1){83}}
  \put(160,140){\framebox(110,15){\livelink{chap:DWFORMstrp}{DW\-\_FORM\-\_strp} (d)} }
  \drawline[1](271,150)(341,168)(332,162)

  \drawline[1](160,125)(80,130)(90,134)
  \put(160,115){\framebox(110,15){\livelink{chap:DWOPcallref}{DW\-\_OP\-\_call\-\_ref}(e)} }
  \drawline[1](271,125)(340,128) 

  \drawline[1](79,128)(160,100)
  \put(160,90){\framebox(110,15){\livelink{chap:DWATlocation}{DW\-\_AT\-\_location} etc (f)} }
  \drawline[1](271,100)(341,125)(332,118)

  \drawline(79,125)(160,75)
  \put(160,65){\framebox(110,15){\livelink{chap:DWATranges}{DW\-\_AT\-\_ranges} (g)} }
  \drawline(271,75)(340,90)(332,85)

  \drawline[1](77,121)(160,46)
  \put(160,40){\framebox(110,15){\livelink{chap:DWATmacroinfo}{DW\-\_AT\-\_macro\-\_info} (h)} }
  \drawline[1](271,46)(343,53)(332,49)

  \drawline[1](71, 116)(160,20)
  \put(160,15){\framebox(110,15){\livelink{chap:DWATstmtlist}{DW\-\_AT\-\_stmt\-\_list} (i)} }
  \drawline[1](271,20)(343,10)(332,8)

  \drawline[1](40,70)(40,110)(37,103)
  \put(-10,55){\framebox(110,15){To compilation unit (b)} }
  \drawline[1](40,35)(40,54)

  \put(0,16) { \addtoindex{.debug\_pubnames} }
  \put(0,6) { \addtoindex{.debug\_pubtypes} } 
  \put(40, 15) { \ellipse{100}{40}}


  \put(345,48) { \addtoindex{.debug\_macinfo} }
  \put(380,50) { \ellipse{80}{30}}

  \put(350,8) { \addtoindex{.debug\_line} }
  \put(380,10) { \ellipse{80}{30}}

\end{picture}
\caption{Debug section relationships}
\label{fig:debugsectionrelationships}
\end{figure}

\clearpage
\begin{center}
   \textbf{Notes}
\end{center}
\begin{enumerate}[(a)]  
\item  \addtoindex{.debug\_aranges}  \\
The debug\_info\_offset value in
the header is
the offset in the \addtoindex{.debug\_info} section of the
corresponding compilation unit header (not the compilation
unit entry).

%b
\item \addtoindex{.debug\_pubnames} and \addtoindex{.debug\_pubtypes} \\
The debug\_info\_offset value in the header is the offset in the
\addtoindex{.debug\_info} section of the 
corresponding compilation unit header (not
the compilation unit entry). Each pubname/pubtype has the offset (within
the corresponding compilation unit) of the applicable debugging
information entry.

%c
\item \addtoindex{.debug\_info} and \addtoindex{.debug\_types} \\
The debug\_abbrev\_offset value in the header is the offset in the
\addtoindex{.debug\_abbrev} 
section of the abbreviations for that compilation unit.

%d
\item  \addtoindex{.debug\_info} and \addtoindex{.debug\_types} \\
Attribute values of class string may have form 
\livelink{chap:DWFORMstrp}{DW\-\_FORM\-\_strp}, whose
value is the offset in the \addtoindex{.debug\_str}
section of the corresponding string.

%e
\item \addtoindex{.debug\_loc} \\
The operand of the \livelink{chap:DWOPcallref}{DW\-\_OP\-\_call\-\_ref} 
DWARF expression operator is the
offset of a debugging information entry in the 
\addtoindex{.debug\_info} section.

%f
\item \addtoindex{.debug\_info} \\
An attribute value of class \livelink{chap:loclistptr}{loclistptr} 
(specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) 
is an offset within the \addtoindex{.debug\_loc} 
section of a
\addtoindex{location list}.

%g
\item \addtoindex{.debug\_info} \\
An attribute value of class \livelink{chap:rangelistptr}{rangelistptr} 
(specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) 
is an offset within the \addtoindex{.debug\_ranges} section of
a range list.

%h
\item \addtoindex{.debug\_info} \\
An attribute value of class 
\livelink{chap:macptr}{macptr} (specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) is an 
offset within the 
\addtoindex{.debug\_macinfo} section
of the beginning of the macro information for the referencing unit.

%i
\item \addtoindex{.debug\_info} \\
An attribute value of class 
\livelink{chap:lineptr}{lineptr} (specifically form
\livelink{chap:DWFORMsecoffset}{DW\-\_FORM\-\_sec\-\_offset}) 
is an offset in the 
\addtoindex{.debug\_line} section of the
beginning of the line number information for the referencing unit.
\end{enumerate}
